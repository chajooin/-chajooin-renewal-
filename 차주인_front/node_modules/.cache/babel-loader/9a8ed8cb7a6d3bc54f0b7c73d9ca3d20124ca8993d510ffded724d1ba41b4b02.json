{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from\"react-redux\";import{useLocation,useNavigate}from'react-router-dom';import\"../../css/my/my-calendar.css\";import Layout from\"../../layout/Layout\";import MyNavigator from\"./components/MyNavigator\";import*as APIS from\"../../utils/service\";import{API_URL}from'../../libs/apiUrl';import{selectUserInfo}from'../../redux/userSlice';import moment from'moment';import{goBackPage}from'../../utils/utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyCalendar(_ref){let{navigation}=_ref;const dispatch=useDispatch();const navigate=useNavigate();const location=useLocation();const{userInfo}=useSelector(selectUserInfo);const[tabIndex,setTabIndex]=useState(0);const[listData,setListData]=useState([]);const loadData=()=>{setListData([]);APIS.postData(API_URL.calendar.list,{type:tabIndex+1}).then(result=>{if(result!==null&&result!==void 0&&result.data){console.log(result===null||result===void 0?void 0:result.data);setListData(result.data);}}).catch(e=>{console.log(e);});};useEffect(()=>{var _location$state;if((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.type){var _location$state2;setTabIndex(Number((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.type));}},[]);useEffect(()=>{loadData();},[tabIndex]);return/*#__PURE__*/_jsx(Layout,{header:false,footters:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"myCalendarContain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"global-titleBox bg_white fixed\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/back.svg\",alt:\"\",onClick:()=>{navigate(\"/mypage\",{replace:true});}}),/*#__PURE__*/_jsx(\"div\",{className:\"titleInfo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"\\uC608\\uC57D\\uC0C1\\uB2F4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-alamContain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",onClick:()=>{navigate(\"/message\");},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/mail-line.svg\",alt:\"\"}),(userInfo===null||userInfo===void 0?void 0:userInfo.message_count)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"num\",children:userInfo===null||userInfo===void 0?void 0:userInfo.message_count})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox margint60\",children:[/*#__PURE__*/_jsx(MyNavigator,{list:[{title:\"마이\"},{title:\"예약상담\",isSelect:true}]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-menu-box\",children:[\"받은 예약상담\",\"요청한 예약상담\"].map((v,i)=>{return/*#__PURE__*/_jsx(\"div\",{className:\"tab-menu \".concat(i===tabIndex&&\"select\"),onClick:()=>{setTabIndex(i);},children:v});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-box\",children:[listData===null||listData===void 0?void 0:listData.map((v,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"list-item\",onClick:()=>{navigate(\"/mypageCalendarInfo?idx=\".concat(v===null||v===void 0?void 0:v.idx),{state:{tabIndex}});},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-box\",children:[tabIndex==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[!(v!==null&&v!==void 0&&v.read_dt)&&/*#__PURE__*/_jsx(\"div\",{className:\"new\",children:\"N\"}),(v===null||v===void 0?void 0:v.name)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:v===null||v===void 0?void 0:v.name}),\"\\uB2D8\\uC73C\\uB85C\\uBD80\\uD130 \\uC608\\uC57D\\uC0C1\\uB2F4\\uC694\\uCCAD\\uC774 \\uB3C4\\uCC29\\uD588\\uC2B5\\uB2C8\\uB2E4.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"title bold\",children:v===null||v===void 0?void 0:v.board_title}),/*#__PURE__*/_jsx(\"div\",{className:\"title sub\",children:v===null||v===void 0?void 0:v.board_sub_data})]}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:moment(v===null||v===void 0?void 0:v.create_dt).format(\"YYYY.MM.DD\")})})]})),listData.length<=0&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"#666\"},children:\"\\uBAA9\\uB85D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}