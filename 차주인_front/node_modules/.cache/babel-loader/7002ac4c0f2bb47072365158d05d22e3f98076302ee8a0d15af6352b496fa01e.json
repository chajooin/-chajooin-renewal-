{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate,useParams}from'react-router-dom';import\"../../css/my/my-info.css\";import Layout from\"../../layout/Layout\";import Button from'../../component/Button';import Input from'../../component/Input';import MyNavigator from\"./components/MyNavigator\";import*as APIS from\"../../utils/service\";import{addHyphenToPhoneNumber,goBackPage,numFormat}from'../../utils/utils';import{loadUserInfo,selectUserInfo}from'../../redux/userSlice';import{API_URL}from'../../libs/apiUrl';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyInfo(_ref){let{navigation}=_ref;const dispatch=useDispatch();const navigate=useNavigate();const{userInfo}=useSelector(selectUserInfo);const[kakaoID,setKakaoID]=useState();const saveBtnClick=()=>{APIS.postData(API_URL.user.saveInfo,{kakao_id:kakaoID}).then(()=>{dispatch(loadUserInfo());}).catch(e=>{let data=e.responce.data;console.log(data.msg);});};useEffect(()=>{console.log(\"render MyInfo!\");console.log(\"userInfo\",userInfo);if(userInfo!==null&&userInfo!==void 0&&userInfo.kakao_id)setKakaoID(userInfo===null||userInfo===void 0?void 0:userInfo.kakao_id);},[]);return/*#__PURE__*/_jsx(Layout,{header:false,footters:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"myInfoContain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"global-titleBox bg_white fixed\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/back.svg\",alt:\"\",onClick:()=>{navigate(\"/mypage\",{replace:true});}}),/*#__PURE__*/_jsx(\"div\",{className:\"titleInfo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"\\uB0B4\\uC815\\uBCF4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"quick-alamContain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",onClick:()=>{navigate(\"/message\");},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/mail-line.svg\",alt:\"\"}),(userInfo===null||userInfo===void 0?void 0:userInfo.message_count)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"num\",children:userInfo===null||userInfo===void 0?void 0:userInfo.message_count})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox margint60\",children:[/*#__PURE__*/_jsx(MyNavigator,{list:[{title:\"마이\"},{title:\"내정보\",isSelect:true}]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-info-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:userInfo===null||userInfo===void 0?void 0:userInfo.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:userInfo===null||userInfo===void 0?void 0:userInfo.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uD578\\uB4DC\\uD3F0\\uBC88\\uD638\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[(userInfo===null||userInfo===void 0?void 0:userInfo.hp)&&addHyphenToPhoneNumber(userInfo===null||userInfo===void 0?void 0:userInfo.hp),/*#__PURE__*/_jsx(\"div\",{className:\"pass-change-btn\",children:/*#__PURE__*/_jsx(Button,{buttonTxt:\"\\uBCC0\\uACBD\\uD558\\uAE30\",buttonSize:\"small\",onPress:()=>{navigate(\"/mypageInfoPhone\");}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title col\",children:\"\\uCE74\\uCE74\\uC624\\uD1A1 ID\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value col\",children:[/*#__PURE__*/_jsx(Input,{className:\"inputs input-400\",placeholder:\"\",setValue:setKakaoID,value:kakaoID}),/*#__PURE__*/_jsx(\"div\",{className:\"helper\",children:\"\\uD68C\\uC6D0\\uAC04 \\uCE74\\uCE74\\uC624\\uD1A1 \\uCC44\\uD305\\uC744 \\uC6D0\\uD558\\uC2DC\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB9CC \\uC785\\uB825\\uD558\\uC138\\uC694.\"})]})]})]}),/*#__PURE__*/_jsx(Button,{buttonTxt:\"\\uC800\\uC7A5\",buttonSize:\"large\",onPress:saveBtnClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"withdrawal-text\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"helper\",children:\"\\uCC28\\uC8FC\\uC778\\uC11C\\uBE44\\uC2A4\\uB97C \\uB354 \\uC774\\uC0C1\\uC774\\uC6A9\\uD558\\uC9C0 \\uC54A\\uC73C\\uC2E0\\uB2E4\\uBA74\"}),/*#__PURE__*/_jsx(\"p\",{className:\"withdrawal-btn\",onClick:()=>{navigate(\"/mypageWithdrawal\");},children:\"\\uD68C\\uC6D0\\uD0C8\\uD1F4\\uD558\\uAE30\"})]})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}