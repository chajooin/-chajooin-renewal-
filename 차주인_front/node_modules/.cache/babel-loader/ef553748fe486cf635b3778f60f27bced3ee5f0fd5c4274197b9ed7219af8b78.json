{"ast":null,"code":"import axios from\"axios\";import{randomDigitCharactersSpecialCharacterslength}from\"./utils\";const getUniqState=function(){var stat_str='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c==='x'?r:r&0x3|0x8;return v.toString(16);});return stat_str;};const client_id=\"HsKnYluLIe4RZof9X2hL\";const client_secret=\"vrSKcEhhDw\";const redirect_uri=\"http://127.0.0.1:3000/login\";const state=randomDigitCharactersSpecialCharacterslength(20);export const parseCallBack=function(){var params={};var queryString=(document.location+\"\").substring(1);var regex=/([^#?&=]+)=([^&]*)/g;var match;while((match=regex.exec(queryString))!==null){params[decodeURIComponent(match[1])]=decodeURIComponent(match[2]);}return params;};export const openNaver=()=>{let url=\"https://nid.naver.com/oauth2.0/authorize?response_type=token&client_id=\".concat(client_id,\"&redirect_uri=\").concat(redirect_uri,\"&state=\").concat(getUniqState());window.location.href=url;};export const getNaverInfo=(accessToken,state)=>{// let reqUrl = `https://nid.naver.com/oauth2.0/oauth2.0/token?grant_type=authorization_code&client_id=${client_id}&client_secret=${client_secret}&code=${code}&state=${state}`;\n// return new Promise((resolve, reject) => {\n//     axios.post(reqUrl).then(result => {\n//         let access_token = result.data.access_token;\n//         getUserInfo(access_token).then(infoResult => resolve(result)).catch(e => reject(e))\n//     }).catch(e => reject(e))\n// })\nreturn new Promise((resolve,reject)=>{let data='';let config={method:'get',maxBodyLength:Infinity,url:'https://openapi.naver.com/v1/nid/getUserProfile.json?response_type=json&access_token='+accessToken,headers:{origin:\"*\",withCredentials:true},data:data};axios.request(config).then(response=>{console.log(JSON.stringify(response.data));}).catch(error=>{console.log(error);});});};export const getUserInfo=accessToken=>{let reqUrl=\"https://openapi.naver.com/v1/nid/getUserProfile.json?response_type=json\";return new Promise((resolve,reject)=>{axios.get(reqUrl,{data:{\"access_token\":accessToken}}).then(result=>resolve(result)).catch(e=>reject(e));});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}