{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate,useParams}from'react-router-dom';import\"../../css/my/my-noti-info.css\";import Layout from\"../../layout/Layout\";import Button from'../../component/Button';import MyNavigator from'./components/MyNavigator';import*as APIS from\"../../utils/service\";import{goBackPage,numFormat}from'../../utils/utils';import{selectUserInfo}from'../../redux/userSlice';import{API_URL}from'../../libs/apiUrl';import{loadingflas}from'../../redux/popupSlice';import moment from'moment';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const checkToken=()=>{let token=localStorage.getItem(\"token\");return token?true:false;};export default function MyNotiInfo(_ref){var _notiInfo$row,_notiInfo$row2,_notiInfo$row3,_notiInfo$prev2,_notiInfo$next2;let{navigation}=_ref;const dispatch=useDispatch();const navigate=useNavigate();const{userInfo}=useSelector(selectUserInfo);const params=new URLSearchParams(window.location.search);const[idx,setIdx]=useState(\"\");const[notiInfo,setNotiInfo]=useState();const loadData=()=>{dispatch(loadingflas({loading:true}));APIS.postData(API_URL.noti.info,{idx}).then(result=>{dispatch(loadingflas({loading:false}));setNotiInfo(result.data);}).catch(e=>{dispatch(loadingflas({loading:false}));goBackPage(navigate);});};useEffect(()=>{if(params.get(\"idx\")){setIdx(params.get(\"idx\"));}},[]);useEffect(()=>{if(idx)loadData();},[idx]);return/*#__PURE__*/_jsx(Layout,{header:false,footters:false,children:/*#__PURE__*/_jsxs(\"div\",{className:\"myNotiInfoContain\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"global-titleBox bg_white fixed\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/back.svg\",alt:\"\",onClick:()=>{navigate(\"/mypageNoti\",{replace:true});}}),/*#__PURE__*/_jsx(\"div\",{className:\"titleInfo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"\\uACF5\\uC9C0\\uC0AC\\uD56D \\uC0C1\\uC138\"})}),checkToken()&&/*#__PURE__*/_jsx(\"div\",{className:\"quick-alamContain\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",onClick:()=>{navigate(\"/message\");},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icons/mail-line.svg\",alt:\"\"}),(userInfo===null||userInfo===void 0?void 0:userInfo.message_count)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"num\",children:userInfo===null||userInfo===void 0?void 0:userInfo.message_count})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoBox margint60\",children:[/*#__PURE__*/_jsx(MyNavigator,{list:[{title:\"마이\"},{title:\"공지사항\"},{title:\"공지사항 상세\",isSelect:true}]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$row=notiInfo.row)===null||_notiInfo$row===void 0?void 0:_notiInfo$row.title}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:moment(notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$row2=notiInfo.row)===null||_notiInfo$row2===void 0?void 0:_notiInfo$row2.create_dt).format(\"YYYY.MM.DD HH.mm\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-box\",dangerouslySetInnerHTML:{__html:notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$row3=notiInfo.row)===null||_notiInfo$row3===void 0?void 0:_notiInfo$row3.desc}}),/*#__PURE__*/_jsxs(\"div\",{className:\"navi-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navi-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"\\uC774\\uC804\\uAE00\"}),notiInfo!==null&&notiInfo!==void 0&&notiInfo.prev?/*#__PURE__*/_jsx(\"div\",{className:\"title\",onClick:()=>{var _notiInfo$prev;setIdx(notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$prev=notiInfo.prev)===null||_notiInfo$prev===void 0?void 0:_notiInfo$prev.idx);},children:notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$prev2=notiInfo.prev)===null||_notiInfo$prev2===void 0?void 0:_notiInfo$prev2.title}):/*#__PURE__*/_jsx(\"div\",{className:\"title none\",children:\"\\uC774\\uC804\\uAE00\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navi-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"\\uB2E4\\uC74C\\uAE00\"}),notiInfo!==null&&notiInfo!==void 0&&notiInfo.next?/*#__PURE__*/_jsx(\"div\",{className:\"title\",onClick:()=>{var _notiInfo$next;setIdx(notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$next=notiInfo.next)===null||_notiInfo$next===void 0?void 0:_notiInfo$next.idx);},children:notiInfo===null||notiInfo===void 0?void 0:(_notiInfo$next2=notiInfo.next)===null||_notiInfo$next2===void 0?void 0:_notiInfo$next2.title}):/*#__PURE__*/_jsx(\"div\",{className:\"title none\",children:\"\\uB2E4\\uC74C\\uAE00\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-box\",children:/*#__PURE__*/_jsx(Button,{styles:{width:120},buttonTxt:\"\\uBAA9\\uB85D\",buttonShape:\"white\",onPress:()=>{navigate(\"/mypageNoti\");}})})]})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}