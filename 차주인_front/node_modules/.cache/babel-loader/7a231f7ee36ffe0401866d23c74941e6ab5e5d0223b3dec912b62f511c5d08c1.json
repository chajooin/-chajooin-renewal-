{"ast":null,"code":"const appKey=\"86ef144fdf6e2dbd935bae085a89c560\";const redirectURL=\"http://127.0.0.1:3000/login\";export const openKakao=()=>{let url=\"https://kauth.kakao.com/oauth/authorize?client_id=\".concat(appKey,\"&redirect_uri=\").concat(redirectURL,\"&response_type=code\");window.location.href=url;};export async function getKakaoInfo(code){console.log(\"code ::::\",code);if(code==null||code==undefined){return new Error(\"not found code!\");}const myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/x-www-form-urlencoded\");const urlencoded=new URLSearchParams();urlencoded.append(\"grant_type\",\"authorization_code\");urlencoded.append(\"client_id\",appKey);urlencoded.append(\"redirect_uri\",redirectURL);urlencoded.append(\"code\",code);const requestOptions={method:\"POST\",headers:myHeaders,body:urlencoded,redirect:\"follow\"};return new Promise((resolve,reject)=>{fetch(\"https://kauth.kakao.com/oauth/token\",requestOptions).then(response=>response.text()).then(result=>{let tokenInfo=JSON.parse(result);console.log(\"카카오 토큰:\",tokenInfo);getUserInfo({accessToken:tokenInfo.access_token}).then(data=>{resolve(data);}).catch(e=>{reject(e);});}).catch(error=>reject(error));});}export const getUserInfo=data=>{let{accessToken=\"\"}=data;const myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \".concat(accessToken));const requestOptions={method:\"POST\",headers:myHeaders,redirect:\"follow\"};return new Promise((resolve,reject)=>{fetch(\"https://kapi.kakao.com/v2/user/me\",requestOptions).then(response=>response.text()).then(result=>resolve(JSON.parse(result))).catch(error=>reject(error));});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}